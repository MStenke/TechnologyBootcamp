


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lab 6: Data Protection &mdash; Nutanix Technology Bootcamp  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lab 7: Prism Central" href="../Lab7/lab7.html" />
    <link rel="prev" title="Lab 5: Verwalten von Workloads" href="../Lab5/lab5.html" />
 
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #024DA1" >
          

          
            <a href="../index.html" class="icon icon-home"> Nutanix Technology Bootcamp
          

          
            
            <img src="../_static/Logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">BootCamp Infos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Trainer/trainer.html">Ihre Drill Instructor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clusteraccess/clusteraccess.html">Zugang zur Lab Umgebung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../clusteraccess/clusteraccess.html#zugangs-ubersicht">Zugangs-Übersicht</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusteraccess/clusteraccess.html#pulse-secure-vpn-client-empfohlen">Pulse Secure VPN Client (empfohlen)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusteraccess/clusteraccess.html#parallels-vdi-zugang-optional">Parallels VDI Zugang (optional)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../clusterdetails/clusterdetails.html">Bootcamp Cluster Details</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#cluster-hardware-details">Cluster Hardware Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#infrastruktur-ip-s">Infrastruktur IP’s</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#virtuelle-maschienen">Virtuelle Maschienen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#images-vm-vorlagen-iso-s">Images / VM Vorlagen &amp; ISO’s</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#zugangsdaten">Zugangsdaten</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#netzwerk">Netzwerk</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Labs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Lab1/lab1.html">Lab 1: Überblick</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab1/lab1.html#prism-element">Prism Element</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab1/lab1.html#prism-element-ruckblick">Prism Element - Rückblick</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab1/lab1.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab2/lab2.html">Lab 2: Storage Konfiguration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab2/lab2.html#distributed-storage-fabric">Distributed Storage Fabric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab2/lab2.html#anlegen-konfiguration-eines-storage-containers">Anlegen &amp; Konfiguration eines Storage Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab2/lab2.html#redundancy-factor-rf">Redundancy Factor (RF)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab2/lab2.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab3/lab3.html">Lab 3: Netzwerk Konfiguration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab3/lab3.html#ahv-netzwerk-grundlagen">AHV Netzwerk-Grundlagen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#virtuelle-netzwerke">Virtuelle Netzwerke</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#virtual-nics">Virtual NICs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#ip-address-management-ipam">IP Address Management (IPAM)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Lab3/lab3.html#netzwerk-konfiguration">Netzwerk-Konfiguration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#nutzer-vm-netzwerk-einrichten">Nutzer VM Netzwerk einrichten</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#nutzer-vm-netzwerk-mit-ipam-einrichten">Nutzer VM Netzwerk mit IPAM einrichten</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Lab3/lab3.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab4/lab4.html">Lab 4: Bereitstellen von Workloads</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab4/lab4.html#image-service">Image Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab4/lab4.html#bereitstellen-einer-linux-vm-disk-image">Bereitstellen einer Linux VM (Disk Image)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab4/lab4.html#bereitstellen-einer-windows-vm-iso">Bereitstellen einer Windows VM (ISO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab4/lab4.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab5/lab5.html">Lab 5: Verwalten von Workloads</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#power-aktionen-und-konsolen-zugang">Power Aktionen und Konsolen Zugang</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#vm-clonen">VM Clonen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#vm-migrationen">VM Migrationen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#affinity-policies">Affinity Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#high-availability-dynamic-scheduling">High Availability &amp; Dynamic Scheduling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lab 6: Data Protection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vm-snapshots">VM Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#protection-domains">Protection Domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab7/lab7.html">Lab 7: Prism Central</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#suchfunktion">Suchfunktion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#reports">Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#capacity-planning">Capacity Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#what-if-planning">What If Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nutanix Technology Bootcamp</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Lab 6: Data Protection</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lab-6-data-protection">
<h1>Lab 6: Data Protection<a class="headerlink" href="#lab-6-data-protection" title="Permalink to this headline">¶</a></h1>
<p>Nutanix bietet die Möglichkeit VM / vDisk-level basierte Storage Snapshots anzulegen. Protection Domains (PDs) sind ein Konstrukt um VM’s zu gruppieren und darauf Snapshots und Replikations-Policies anzuwenden.</p>
<p><strong>In diesem Lab werden Sie Prism Element nutzen um VM Snapshots zu erstellen und VM’s aus diesen Snapshots wiederherzustellen, sowie eine Protection Domain für Ihre VMs anzulegen.</strong></p>
<div class="section" id="vm-snapshots">
<h2>VM Snapshots<a class="headerlink" href="#vm-snapshots" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>In <strong>Prism Element &gt; VM &gt; Table</strong>, wählen Sie Ihre <em>Initialen</em>-<strong>Linux_VM</strong> VM.</p></li>
<li><p>Wenn die VM angeschaltet sein sollte, führen sie eine <strong>Guest Shutdown</strong> Power Aktion durch.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/poweroffvm1.png" src="../_images/poweroffvm1.png" />
</div>
</div></blockquote>
</li>
<li><p>Wählen Sie die VM und klicken Sie <strong>Snapshot</strong> von dem Menü unterhalb der Tabelle.</p></li>
<li><p>Geben Sie einen Namen für Ihren Snapshot an und klicken Sie auf <strong>Submit</strong>.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/takesnap.png" src="../_images/takesnap.png" />
</div>
</div></blockquote>
</li>
<li><p>Wählen Sie <strong>VM Snapshots</strong> Tab unterhalb der Tabelle und sehen Sie sich die verfügbaren Snapshots für die ausgewählte VM an.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/snap-list.png" src="../_images/snap-list.png" />
</div>
</div></blockquote>
</li>
<li><p>Unter <strong>Actions</strong>, klicken Sie auf <strong>Details</strong> um alle VM Eigenschaften zum Zeitpunkt des Snapshots zu sehen. Wie Sie sehen enthält der Snapshot den VM Zustand neben den reinen Storage Daten.</p></li>
</ol>
<blockquote>
<div><h2><strong><font color="red">Jetzt wird es Zeit die VM zu zerstören!</font></strong></h2></div></blockquote>
<ol class="arabic" start="7">
<li><p>Klicken Sie auf <strong>Update</strong> um die VM zu modifizieren und entfernen Sie sowohl das CD-ROM Laufwerk als auch die DISK durch klicken auf das <strong>X</strong> Symbol neben dem jeweiligen Eintrag. Klicken Sie danach auf <strong>Save</strong>.</p>
<div class="figure align-default">
<img alt="../_images/removedisks.png" src="../_images/removedisks.png" />
</div>
</li>
<li><p>Versuchen Sie die VM zu starten (<em>Power on</em>) und öffnen Sie das Consolen Fenster (<em>Launch Console</em>).</p>
<div class="figure align-default">
<img alt="../_images/2048game.png" src="../_images/2048game.png" />
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wie Sie sehen, hat die VM keine Disk mehr von welcher diese booten kann und zeigt daher das 2048 Spiel an.</p>
</div>
</li>
<li><p>Schalten Sie die VM aus (<em>Power off</em>).</p></li>
<li><p>Unter <strong>VM Snapshots</strong> wählen Sie Ihren Snapshot aus und klicken auf <strong>Restore</strong> um die VM wieder in einen funktionsfähigen Zustand zu versetzen. (Alternativ können Sie auch auf <strong>Clone</strong> klicken um einen Restore in Form einer (oder mehrerer) neuen VM(s) durchzuführen.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/vmrestored.png" src="../_images/vmrestored.png" />
</div>
</div></blockquote>
</li>
<li><p>Verifizieren Sie, dass die VM erfolgreich bootet.</p></li>
</ol>
<p>Wie vorher erwähnt nutzen Nutanix Snapshots ein <a class="reference external" href="https://nutanixbible.com/#anchor-book-of-acropolis-snapshots-and-clones">redirect-on-write</a> Ansatz, welcher nicht unter Performance Verlusten durch verkettete Snapshots wie in anderen Hypervisoren leidet.</p>
</div>
<div class="section" id="protection-domains">
<h2>Protection Domains<a class="headerlink" href="#protection-domains" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>In <strong>Prism Element &gt; Data Protection &gt; Table</strong>, klick <strong>+ Protection Domain &gt; Async DR</strong> um eine PD zu erstellen.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Synchrone Replikation (Metro Availability) ist aktuell nur mit ESXi unterstützt and wird zu einem späterem Zeitpunkt mit AHV unterstützt.</p>
</div>
</li>
<li><p>Geben Sie einen Namen für die Protection Domain an und klicken auf <strong>Create</strong>.</p></li>
<li><p>Filtern oder scrollen Sie um die von Ihnen erstellten VMs zu selektieren die in die PD aufgenommen werden sollen.</p></li>
<li><p>Klick auf <strong>Protect Selected Entities</strong> und stellen Sie sicher, dass die VMs in der rechten Spalte unter <strong>Protected Entities</strong> auftauchen.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/pd-entities.png" src="../_images/pd-entities.png" />
</div>
</div></blockquote>
<p>Consistency Groups erlauben es Ihnen mehrere VMs zu gruppieren um Snapshots zum gleichen Zeitpunkt aufzunehmen, z.B. wenn die VMs zu einer gleichen Anwendung gehören.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Nutanix Snapshots können Anwendungs konsistente Snapshots für unterstützte Betriebssysteme durchführen auf welchen die Nutanix Guest Tools (NGT) installiert sind. Jede VM die Anwendungs konsistente Snapshots verwendet wird Teil Ihrer eigenen Consistency Group.</p>
</div>
</li>
<li><p>Klick auf <strong>Next</strong>.</p></li>
<li><p>Klick auf <strong>New Schedule</strong> um die Recovery Point Objective (RPO) und Retention Policy zu definieren.</p></li>
<li><p>Definieren Sie Ihre gewünschte Snapshot Frequenz (z.B. jede Stunde 1x)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>AHV unterstützt heute schon NearSync Snapshots mit RPOs so niedrig wie mit 1 Minute.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mehrere Schedules können für die gleiche PD angewendet werden, was es Ihnen erlaubt eine X Anzahl an Snapshots stündlich, täglich oder monatlich zu erzeugen und vorzuhalten.</p>
</div>
</li>
<li><p>Konfigurieren Sie eine Retention Policy (z.B. die letzten 5 Snapshots behalten)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Für Umgebungen bei denen Remote Nutanix Cluster angebunden wurden, lässt sich die Replikation einfach anhand der vorzuhaltenden Snapshots auf der Remote Seite definieren.</p>
<div class="figure align-default">
<img alt="../_images/snapshot_02.png" src="../_images/snapshot_02.png" />
</div>
</div>
</li>
<li><p>Klick auf <strong>Create Schedule</strong>.</p></li>
<li><p>Klick auf <strong>Close</strong> um das Lab abzuschließen.</p></li>
</ol>
<p>Das war’s - Sie haben erfolgreich die nativen Data Protection Optionen in Prism konfiguriert.</p>
</div>
<div class="section" id="zusammenfassung">
<h2>Zusammenfassung<a class="headerlink" href="#zusammenfassung" title="Permalink to this headline">¶</a></h2>
<p>Nutanix bietet Data Protection Lösungen für virtuelle Datacenter anhand vieler verschiedener Möglichkeiten darunter u.a. “one-to-one” oder “one-to-many” Replikation. Die Nutanix Data Protection Möglichkeiten umfassen Funktionen auf VM, File und Volume Group Ebene, sodass VM’s und Daten in einem sicheren Zustand bleiben. VM Level Snapshots und Replikations-Regeln können direkt aus Prism heraus für jeden unterstützten Hypervisor vorgenommen werden.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Lab7/lab7.html" class="btn btn-neutral float-right" title="Lab 7: Prism Central" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Lab5/lab5.html" class="btn btn-neutral float-left" title="Lab 5: Verwalten von Workloads" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Nutanix Germany GmbH | 

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>